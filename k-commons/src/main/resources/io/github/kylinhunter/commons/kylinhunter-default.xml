<?xml version="1.0" encoding="UTF-8"?>

<!--
File appender logback configuration provided for import, equivalent to the programmatic
initialization performed by Boot
-->

<included>
	<contextListener class="ch.qos.logback.classic.jul.LevelChangePropagator"/>
	<statusListener class="ch.qos.logback.core.status.OnConsoleStatusListener"/>


	<!-- sys properties -->
	<property name="spring.profiles.active" value="DEV" />
	<springProperty name="spring.profiles.active" scope="context" source="spring.profiles.active"/>
	<springProperty name="application.name" scope="context" source="spring.application.name"/>

	<!-- app properties -->
	<property name="logging.log_level"  value="INFO"/>
	<property name="logging.max_log_file_size"  value="50MB"/>
	<property name="logging.max_history"   value="30"/>
	<property name="logging.log_pattern"
			  value="%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %X{x-current-user} - %X{x-trace-id} %logger{12} [%line]: %msg%n"/>
	<property name="logging.console_pattern"
			  value="%black(%d{yyyy-MM-dd HH:mm:ss.SSS}) [%blue(%t)] %highlight(%-5level) %X{x-current-user} - %X{x-trace-id} %yellow(%C{36}[%line]): %msg%n"/>
	<property name="log_file_path_prefix"   value="./logs/${application.name}"/>

	<springProperty name="logging.log_level" scope="context" source="app.logging.log_level" defaultValue="DEBUG"/>
	<springProperty name="logging.max_log_file_size" scope="context" source="app.logging.max_log_file_size" defaultValue="50MB"/>
	<springProperty name="logging.max_history" scope="context" source="app.logging.max_history" defaultValue="30"/>
	<springProperty name="logging.log_pattern" scope="context" source="app.logging.log_pattern" defaultValue=""/>
	<springProperty name="log_file_path_prefix" scope="context" source="app.logging.log_file_path_prefix" defaultValue="./logs"/>





	<!-- configure logger level -->
	<logger name="org.springframework" level="WARN"/>
</included>
